webpackJsonp([29,47],{"M+Jt":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"lnkgoodsclassform",data:function(){return{formInfo:{},visiable:!1,loading:!1,method:"add"}},methods:{show:function(t,e){var s=this;this.method=e,this.$refs.formInfo&&this.$refs.formInfo.resetFields(),this.visiable=!0,"add"!=e&&this.$http.get("/iweb/lnkgoodsclass/detail/"+t).then(function(t){var e=t.data.result;s.formInfo=e})},submit:function(){var t=this;this.$refs.formInfo.validate(function(e){if(!e)return!1;"add"==t.method?t.add():"update"==t.method&&t.update()})},add:function(){var t=this;this.loading=!0,this.$http.post("/iweb/lnkgoodsclass/add",this.formInfo).then(function(e){t.loading=!1;var s=e.data;t.$message({type:s.status?"success":"error",message:s.message}),s.status&&(t.$emit("save-ok"),t.visiable=!1)},function(){t.loading=!1,t.$message({type:"error",message:"操作失败"})})},update:function(){var t=this;this.loading=!0,this.$http.post("/iweb/lnkgoodsclass/update",this.formInfo).then(function(e){t.loading=!1;var s=e.data;t.$message({type:s.status?"success":"error",message:s.message}),s.status&&(t.$emit("save-ok"),t.visiable=!1)},function(){t.loading=!1,t.$message({type:"error",message:"操作失败"})})}}},o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{title:"编辑",visible:t.visiable,width:"60%"},on:{"update:visible":function(e){t.visiable=e}}},[s("el-form",{ref:"formInfo",staticClass:"small-space",attrs:{"label-width":"120px",model:t.formInfo,inline:!0}},[s("el-row",{attrs:{justify:"space-around"}},[s("el-col",{attrs:{span:12}}),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"商品id",prop:"goodsId",rules:t.$r(1,0,36)}},[s("el-input",{attrs:{type:"text",placeholder:"请输入商品id"},model:{value:t.formInfo.goodsId,callback:function(e){t.$set(t.formInfo,"goodsId",e)},expression:"formInfo.goodsId"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"类别id",prop:"classId",rules:t.$r(1,0,36)}},[s("el-input",{attrs:{type:"text",placeholder:"请输入类别id"},model:{value:t.formInfo.classId,callback:function(e){t.$set(t.formInfo,"classId",e)},expression:"formInfo.classId"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:12}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.visiable=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.submit}},[t._v(" 确 定")])],1)],1)},n=[],i={render:o,staticRenderFns:n},l=i,r=s("vSla"),d=r(a,l,!1,null,null,null);e.default=d.exports},VjLf:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("M+Jt"),o=s("69yh"),n={components:{lnkgoodsclassform:a.default},data:function(){return{pageBean:{},listLoading:!0,visiable:!1,queryInfo:new o.a(this)}},mounted:function(){this.queryInfo.query.q="",this.doQuery()},methods:{doEdit:function(t,e){this.$refs.lnkgoodsclassform.show(t,e)},doRemove:function(t){var e=this;this.$confirm("确定删除本数据?","提示",{}).then(function(){e.listLoading=!0,e.$http.get("/iweb/lnkgoodsclass/delete?id="+t).then(function(t){var s=t.data;e.listLoading=!1,e.$message({type:s.status,message:s.description}),s.status&&e.doQuery()})})},doQuery:function(){var t=this;this.listLoading=!0,this.$http.get("/iweb/lnkgoodsclass/find?q="+this.queryInfo.query.q+"&pageNum="+this.queryInfo.pageNum+"&pageSize="+this.queryInfo.pageSize).then(function(e){console.log(e.data.result);var s=e.data.result;t.pageBean=s,t.listLoading=!1})}}},i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container calendar-list-container"},[s("div",{staticClass:"filter-container"},[s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入姓名或账号"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.doQuery(e)}},model:{value:t.queryInfo.query.q,callback:function(e){t.$set(t.queryInfo.query,"q",e)},expression:"queryInfo.query.q"}}),t._v(" "),s("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"search"},on:{click:t.doQuery}},[t._v("搜索")]),t._v(" "),s("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{icon:"edit",type:"primary"},on:{click:function(e){t.doEdit("","add")}}},[t._v("添加\n      ")])],1),t._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%",height:"100%"},attrs:{data:t.pageBean.list,border:"",fit:"","highlight-current-row":"","default-sort":{prop:"updTimestamp",order:"descending"},sortable:"custom"},on:{"sort-change":t.queryInfo.doSort}},[s("el-col",{attrs:{span:12}}),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-table-column",{attrs:{width:"150px",align:"center",label:"商品id",prop:"goodsId"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.goodsId))])]}}])})],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-table-column",{attrs:{width:"150px",align:"center",label:"类别id",prop:"classId"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.classId))])]}}])})],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-table-column",{attrs:{width:"250px",align:"center",label:"创建时间",prop:"createTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.createTime))])]}}])})],1),t._v(" "),s("el-table-column",{attrs:{width:"150px",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"small",type:"success"},on:{click:function(s){t.doEdit(e.row.gcId,"update")}}},[t._v("编辑\n          ")]),t._v(" "),s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(s){t.doRemove(e.row.gcId)}}},[t._v("删除\n          ")])]}}])})],1),t._v(" "),s("div",{staticClass:"pagination-container"},[s("el-pagination",{attrs:{"current-page":t.pageBean.pageNum,"page-size":t.queryInfo.pageSize,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:t.pageBean.totalRecords},on:{"update:currentPage":function(e){t.$set(t.pageBean,"pageNum",e)},"size-change":t.queryInfo.doSizeChg,"current-change":t.queryInfo.doCurPageChange}})],1),t._v(" "),s("lnkgoodsclassform",{ref:"lnkgoodsclassform",on:{"save-ok":t.doQuery}})],1)},l=[],r={render:i,staticRenderFns:l},d=r,u=s("vSla"),c=u(n,d,!1,null,null,null);e.default=c.exports}});